<!-- Wrapper for the portfolio item form -->
<div class="form-wrapper">
  <h3>Add Portfolio Item</h3>

  <!-- Form container with two-way data binding and submission handler -->
  <form (ngSubmit)="create()" #portfolioForm="ngForm" class="form-grid">

    <!-- Ticker input field -->
    <!-- User enters a stock symbol (e.g., TSLA) -->
    <!-- Input is normalized and name will be fetched automatically -->
    <label for="ticker">Ticker symbol</label>
    <input
      id="ticker"
      name="ticker"
      type="text"
      [(ngModel)]="item.ticker"
      (ngModelChange)="onTickerChange($event)"
      required
      placeholder="e.g., TSLA"
      (blur)="onTickerEntered()" />

    <!-- Asset name field -->
    <!-- Automatically populated based on ticker, read-only -->
    <label for="name">Asset Name</label>
    <input
      type="text"
      id="name"
      [(ngModel)]="item.name"
      name="name"
      required
      readonly />

    <!-- Purchase price input -->
    <!-- User specifies the price per share/unit -->
    <label for="price">Purchase Price</label>
    <input
      type="number"
      id="price"
      [(ngModel)]="item.purchasePrice"
      name="purchasePrice"
      required
      step="0.01"
      placeholder="e.g., 250.00" />

    <!-- Quantity input -->
    <!-- Total number of shares or units purchased -->
    <label for="quantity">Quantity</label>
    <input
      type="number"
      id="quantity"
      [(ngModel)]="item.quantity"
      name="quantity"
      required
      step="0.01"
      placeholder="e.g., 5" />

    <!-- Purchase date input -->
    <!-- User selects the date the asset was bought -->
    <label for="date">Purchase Date</label>
    <input
      type="date"
      id="date"
      [(ngModel)]="item.purchaseDate"
      name="purchaseDate"
      required />

    <!-- Form actions: save or cancel -->
    <div class="button-row">
      <!-- Save button is disabled if form is invalid -->
      <button type="submit" [disabled]="portfolioForm.invalid">Save</button>
      
      <!-- Cancel button triggers reset and notifies parent -->
      <button type="button" class="cancel" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>
