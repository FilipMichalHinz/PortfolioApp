<!-- =============================
File: portfolio-card.component.html
Description:
Template for the PortfolioCardComponent.
Displays a compact overview of a single portfolio with key metrics.
Includes styling for profit/loss indicators and a delete button.
All data is passed in via @Input() and handled locally.
============================= -->

<!-- Wrapper for the portfolio card layout -->
<div class="portfolio-card">

  <!-- Portfolio title displayed as the card header -->
  <div class="header">{{ portfolio.name }}</div>

  <!-- Section displaying financial metrics -->
  <div class="metrics">

    <!-- Metric: Current total value of the portfolio -->
    <div class="metric">
      <span class="icon">💰</span>
      <div>
        <div class="label">Total value</div>
        <div class="value">
          {{ portfolio.currentValue | currency }} <!-- Format as currency -->
        </div>
      </div>
    </div>

    <!-- Metric: Number of assets in this portfolio -->
    <div class="metric">
      <span class="icon">🏦</span>
      <div>
        <div class="label">Assets</div>
        <div class="value">
          {{ portfolio.assetCount }}
        </div>
      </div>
    </div>

    <!-- Metric: Overall profit or loss -->
    <div class="metric">
      <span class="icon">📈</span>
      <div>
        <div class="label">Profit/Loss</div>
        <div
          class="value"
          [class.negative]="portfolio.totalProfitLoss < 0"
          [class.positive]="portfolio.totalProfitLoss >= 0"
        >
          {{ portfolio.totalProfitLoss | currency }} <!-- Display value -->
          <span class="percent">
            ({{ portfolio.changePercent | number:'1.0-0' }}%) <!-- Show percentage change -->
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- Action area below metrics -->
  <div class="actions">
    <!-- Delete button (warn color) triggers component method -->
    <button mat-stroked-button color="warn" (click)="confirmDelete($event)">
      <mat-icon>delete_outline</mat-icon>
      Delete
    </button>
  </div>
</div>
